{% extends "base.html" %}
{% block title %}{{title}}{% endblock %}

{% block content %}
<h1 class="page-header">{{title}}</h1>

{% block preamble %}{% endblock %}

<h2>Spectra</h2>
<table class="table table-condensed">
    <thead>
        <tr>
            <th>Date</th>
            <th>Observer</th>
            <th>Range</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    {% for (filename, spectrum) in spectra %}
        <tr>
            <th>{{ spectrum.header()['DATE-OBS'] }}</th>
            <th>{{ spectrum.header()['OBSERVER'] }}</th>
            <th>{{ "%d - %d"|format(spectrum.wavelengths()[0], spectrum.wavelengths()[-1]) }}</th>
            <th><a class="btn btn-primary btn-sm" href="/{{filename}}"><span class="glyphicon glyphicon-download"></span> Download</a></th>
        </tr>
    {% endfor %}
    </tbody>
    <tfoot>
      <th colspan="3"></th>
      <th><a class="btn btn-primary" href="/{{zipfilename}}"><span class="glyphicon glyphicon-compressed"></span> Download all (zip)</a></th>
    </tfoot>
</table>
{% endblock %}
